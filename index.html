<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Desmos Embed â€” d2uulzwbth</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;margin:0;background:#f6f7fb;color:#0b1220}
    header{padding:16px 20px;background:#fff;border-bottom:1px solid #e6e9ef;display:flex;align-items:center;gap:12px}
    .brand{font-weight:700}
    main{padding:18px;max-width:980px;margin:18px auto}
    .frame-wrap{background:#fff;padding:12px;border:1px solid #e6e9ef;border-radius:8px;display:grid;gap:12px}
    iframe{width:100%;height:600px;border-radius:6px;border:1px solid #dfe6f2}
    .controls{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
    input[type=number]{width:92px;padding:8px;border-radius:6px;border:1px solid #d0d7e6}
    button{padding:8px 12px;border-radius:6px;border:0;background:#2b6ef6;color:white;cursor:pointer}
    button.ghost{background:#fff;color:#111;border:1px solid #d0d7e6}
    .hint{font-size:13px;color:#55607a}
    .footer{margin-top:10px;font-size:13px;color:#5b6476}
    @media (max-width:600px){iframe{height:420px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">Desmos Embed</div>
    <div class="hint">calculator ID: <strong>d2uulzwbth</strong></div>
  </header>
  <main>
    <div class="frame-wrap">
      <iframe id="desmosFrame" src="https://www.desmos.com/calculator/d2uulzwbth?embed" allowfullscreen loading="lazy"></iframe>

      <div class="controls">
        <label class="hint">Width (px): <input id="w" type="number" value="900" min="200"></label>
        <label class="hint">Height (px): <input id="h" type="number" value="600" min="200"></label>
        <button id="apply">Apply</button>
        <button id="open" class="ghost">Open in new tab</button>
        <button id="copyLink" class="ghost">Copy Desmos link</button>
        <button id="download" class="ghost">Download HTML</button>
      </div>

      <div class="footer">Tips: On mobile, use "Request desktop site" in your browser if you need copy/paste from the expressions panel. Use the "Open in new tab" button to view the original Desmos editor.</div>
    </div>
  </main>

  <script>
    const frame = document.getElementById('desmosFrame');
    const wIn = document.getElementById('w');
    const hIn = document.getElementById('h');
    document.getElementById('apply').addEventListener('click', ()=>{
      frame.style.width = (parseInt(wIn.value)||900)+'px';
      frame.style.height = (parseInt(hIn.value)||600)+'px';
    });

    document.getElementById('open').addEventListener('click', ()=>{
      window.open('https://www.desmos.com/calculator/d2uulzwbth','_blank');
    });

    document.getElementById('copyLink').addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText('https://www.desmos.com/calculator/d2uulzwbth');
        alert('Link copied to clipboard');
      }catch(e){
        prompt('Copy this URL', 'https://www.desmos.com/calculator/d2uulzwbth');
      }
    });

    document.getElementById('download').addEventListener('click', ()=>{
      const html = `<!doctype html>\n<html>\n<head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>Desmos Embed</title></head>\n<body>\n<iframe src=\"https://www.desmos.com/calculator/d2uulzwbth?embed\" width=\"100%\" height=\"600\" style=\"border:1px solid #ccc\"></iframe>\n</body>\n</html>`;
      const blob = new Blob([html],{type:'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'desmos-embed.html'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>
